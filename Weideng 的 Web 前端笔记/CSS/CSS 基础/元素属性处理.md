# 元素属性处理

## 层叠

也叫权重计算。

- 声明冲突
	同一个属性，不同的属性值（样式），应用到同一个元素。

解决声明冲突的过程就叫层叠，浏览器自动处理。

### 层叠过程

对于某个元素，最后只会剩下一个样式。

分三步：

1. 比较重要性
	重要性从高到低：
	1. 作者（开发者）样式表中加 !important 的样式
	2. 作者样式表中的不同样式
	3. 浏览器默认样式表中的样式
2. 比较特殊性
	依据选择器：
	- 总体规则
		选择器选中的范围越窄，越特殊
	- 具体规则
		通过选择器计算出一个四位 256 进制的数，谁大谁特殊
		- 从高到低：
			1. 第一位：如果是内联样式，记作 1，否则为 0。
			2. 第二位：等于声明块的所有 id 选择器的数量。
			3. 第三位：等于声明块的所有类选择器，属性选择器，伪类选择器的数量。
			4. 第四位：等于声明块的所有元素选择器，伪元素选择器的数量。
3. 比较源序性
	代码书写靠后的胜出。

### 重置样式表

常书写重置样式表覆盖浏览器的默认样式，然后再用自己的样式覆盖重置样式。（这里的重置样式相当于新的默认样式）

重置样式建议搜索，常用的有：normalize.css、reset.css、meyer.css 。

## 继承

子元素会继承父元素的某些 CSS 属性。（祖先与后代间具有父与子的传递性）

一般文字字体类型等属性可以继承。

**继承发生在层叠之后。**

- 强制继承（inherit）
	- 强制继承时（inherit），该属性的继承会被提前。
	- 强制继承可以继承本不能被继承的属性值。

属性值的计算过程

一个一个元素依次渲染，按照页面文档的树形目录结构进行（先序遍历）

渲染每个元素的前提条件：该元素的所有 CSS 属性必须有值。

## 属性值的计算

即是一个元素，从所有属性都没有值，到所有属性都有值的计算过程。

步骤：
1. 确定声明值
	作者样式表或浏览器默认样式表。（注意这个浏览器默认样式表）
	对没有冲突的声明直接将其作为 CSS 属性值。
2. 层叠冲突
	对有冲突的声明使用层叠规则，进而确定 CSS 属性值。
3. 使用继承
	对仍然没有值的属性，若该属性可以继承，则继承父元素的值。
	- （可祖先后代间依靠父子关系传递）
	- 强制继承时（inherit），该属性的继承会被提前。
4. 使用默认值
	对最终还是没有值的属性，使用该属性的默认值。（每一个属性都有默认值）
	
- 特殊的两个 CSS 属性：
	当这两个属性值被声明时，属性值将在第一步就被确定，因为其本就属于“声明值”。
	- inherit 强制继承：手动强制继承，将父元素的属性值应用到该元素。
	- initial：初始值：将该属性设置为默认值。