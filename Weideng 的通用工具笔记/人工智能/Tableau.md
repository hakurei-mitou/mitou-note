# Tableau

Tableau 是一款交互式商业智能（Business Intelligence，BI）数据可视化软件。

本笔记只记录一些基础知识和注意点，以具体软件使用为准。

## 产品类别

- Tableau Desktop

	设计和创建工作簿的桌面应用。

- Tableau Prep

	数据清洗与处理。

- Tableau Server

	用于发布和管理 Tableau 工作簿和数据源。

- Tableau Online

	Tableau Server 的云托管版本，无需硬件部署。

- Tableau Reader

	查看 Tableau 工作簿的桌面应用。

- Tableau Public

	免费桌面和 Web 应用，所有数据源和工作簿只能共享在社区上，可在网页端制作和查看，不能本地保存。

- Tableau Mobile

	移动端，可以查看和发布工作簿，进行简单的编辑。

## 基本概念

- 工作区

  - 数据源（data source）

  	连接文件或数据库获取数据。

  - 工作表（work sheet），也称为视图（visualization）

  	制作图或表。

  - 仪表板（dashboard）

  	仪表板可放置多个工作表用于展示。

  - 故事（story）

  	故事可包含多个工作表和仪表板，用于逐步演示。

  - 工作簿（workbook）

  	工作簿可包含多个工作表、仪表板和故事，是 Tableau 最大的单位。

- 常见概念

	- 维度

		维度数据，表示类别，定性。

	- 度量

		度量数据，表示程度，可以比较值的大小，定量。

	- 属性

		属性值，对象的描述信息。

	- 连续

		字段意义所属空间连续，连续字段为绿色。

	- 离散

		字段意义所属空间离散，离散字段为蓝色。

	- 作用域划分

		- 每张表

			应用于单张表。

		- 每个区

			应用于每个区，每个区都有一个所设置的事物。一张表分为了多个部分，即区。

		- 每个单元格

			应用于每个数据项，每个数据项有一个所设置的事物，例如条形图的每个条。

## 文件类型

- Tableau 工作簿 `.twb`

	保存所有表信息，不包括源数据。

- Tableau 工作簿 `.twbx`

	保存表信息和源数据，适合将工作簿分享给他人时使用，保存在 Tableau Public 上的数据一般是此格式。

- Tableau 数据源 `.tds`

	不包含源数据，只包含新建数据源必需的信息和数据窗口中做的修改，例如计算字段，组，集等。

- Tableau 数据源 `.tdsx`

	- 对于本地数据源，tdsx 包含 tds 的内容和本地数据源。
	- 对于网络数据源，tdsx 与 tds 没有区别。

- Tableau 书签 `.tbm`

	书签包含单个工作表，可以快速分享工作表。

- Tableau 数据提取 `.tde`

	数据源的一个副本，可用于共享数据、脱机工作和提高数据库性能。

## 数据源

- 连接各类数据源

	导入表，进行表的并集与联接。

- 预览数据

	Tableau 默认只展示部分数据，具体展示的行数可自行设置。

- 简单的数据清洗和预处理

	- 添加、隐藏、拆分字段。
	- 更改字段数据类型。
	- Tableau 的数据清洗和预处理不会更改原始数据。
	- 可以先用 Excel 进行较复杂的数据清洗和预处理再导入 Tableau。
	- 创建计算字段。

## 工作表

### 数据

- 特殊字段

	- 度量名称

		包含每个度量名称的生成字段，可用其内部筛选器指定使用哪些字段。

		- 常用于拖动到行列上创建多个度量的堆叠效果。

	- 度量值

		包含每个度量值的生成字段，可用其内部筛选器指定使用哪些字段。

		- 常用于对不同数据共同度量，即都使用同一个数值轴。

- 计算字段

	使用计算规则生成新的字段，关键字及函数即用即查即可。

- 参数

	要使用的常量。
	
- 表计算，计算依据

	编辑表计算，表计算的计算依据是自动的，当维度较复杂时，需要手动设置计算依据为特定维度，勾选多个维度。
	
- 筛选器

	动态筛选数据。
	
	- 一般连续字段按范围筛选，离散字段按类别筛选。
	
- 数据桶

  数据桶用于将度量依据统一尺度范围进行划分。
  
- 组

  组用于将维度或度量分组，可设定不同范围。

### 轴

- 列

	每一列表示什么数据，对应横轴。

- 行

	每一行表示什么数据，对应纵轴。

- 行列项目顺序

	项目在行列上放置的前后会影响到维度划分顺序与默认排序字段。

- 多维

  - 可在行列上放置多个维度数据，出现多个图表或类别子类别划分表示维度。

  - 可使用额外的形状或颜色，比如用点的大小和颜色深浅表示散点图的第三第四个维度。

- 双轴

	不同数据在一张图上，分别使用不同的某个轴，也叫组合图，常用于将两个图合并成一个。

- 同步轴

	将双轴的轴尺度同步。

### 标记

- 颜色

	- 维度拖到颜色常会出现分类颜色。

	- 度量拖到颜色常会出现颜色深浅。

- 大小

	以大小为载体展示数据。

- 标签

  显示标签，调整标签样式，有时标签不显示可能是空间大小没调整好。

- 详细信息

- 形状

	调整数据展示的载体的形状。

- 工具提示

  鼠标指示时展示的提示信息，点击即可设置，建议使用“插入”设置字段，以避免出错。
  
- 多组标记

  当出现多组标记时，在“全部”从设置的项会应用到所有标记组。

### 图表

- 参考线

  对图表添加参考线，用于指示特征，有时可用来设置标签（每单元格）。

- 图例

  图中数据的说明。

- 智能推荐

  Tableau 根据数据情况智能推荐图表形式。

- 突出显示

  用于将某个或某些数据突出显示。
  
- 图表大小

  - 用鼠标调节。
  - 在“设置格式”中的“单元格大小”设置。
  - 更改单元格大小后，可以使用 Ctrl + b 和 Ctrl + Shift + b 来减小或增加表的大小，同时保持单元格纵横比不变。


## 仪表板

### 排版

- 大小

	设置屏幕大小，常用自定义再根据情况手动调整长宽数值。

- 对象

	拖动已添加对象。

	- 水平、垂直

		添加容器，可以将容器作为一个整体调整，也可单独对内调整。

	- 空白
	
		使用空白填充。


### 联动

- 筛选器

	将一个筛选器用于多个图表。

- 图表

	可将图表用作筛选器，可使用鼠标（点击或范围）选择以筛选对象。

- 应用于工作表

	可指定操作应用的指向。
	
- 突出显示

  在工具栏的突出显示项选择突出显示关联的字段。
  
- 注意

  有时需要在筛选器和突出显示中做取舍，只保留一个。

## 故事

- 故事点

	每个故事点放置工作包或仪表板，逐个展示故事点以演示故事。
